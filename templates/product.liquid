{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}
{% assign featured_media = product.featured_media %}

{%- include 'cover', featured_media: featured_media, title: product.title -%}

<div class="container">
  <div class="row">
    <div class="col-md-6">
      {%- include 'image', src: featured_image, size: '600x600', class: "img-fluid" -%}
      <!-- <img src="{{ featured_image | img_url: 'large' }}" alt="{{ featured_image.alt | escape }}" id="ProductPhotoImg"> -->
      {% for image in product.images %}
        <a href="{{ image.src | img_url: 'large' }}">
          <img src="{{ image.src | img_url: 'compact' }}" alt="{{ image.alt | escape }}">
        </a>
      {% endfor %}
    </div>
    <div class="col-md-6">
      <h1 class="mb-0">{{ product.title }}</h1>
      <p class="mb-2">{{ current_variant.price | money }}</p>
      <div>{{ product.description }}</div>
      <hr>
      <form action="/cart/add" method="post" enctype="multipart/form-data" id="AddToCartForm">
        <div class="mb-4">
          <select name="id" id="productSelect" class="form-select">
            {% for variant in product.variants %}
              {% if variant.available %}
                <option value="{{ variant.id }}">
                  {{ variant.title }} — {{ variant.price | money }}
                </option>
              {% else %}
                <option disabled="disabled">
                  {{ variant.title }} — sold out
                </option>
              {% endif %}
            {% endfor %}
          </select>
        </div>
        <div class="row align-items-center">
          <div class="col-auto">
            <label for="Quantity" class="sr-only">Quantity</label>
          </div>
          <div class="col-auto">
            <input type="number" id="Quantity" name="quantity" value="1" min="1" max="100" class="form-control">
          </div>
          <div class="col-auto">
            <button type="submit" name="add" class="btn btn-primary" id="AddToCart">Add to cart — {{ current_variant.price | money }}</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
