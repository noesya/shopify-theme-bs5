{% for block in section.blocks %}
  {% case block.type %}
    {% when 'video' %}
      {% assign id = block.settings.id_video %}
      {% assign platform = block.settings.platform_video %}
      {% include 'component-video' %}
    {% when 'image' %}
      {% assign id = block.settings.id_image %}
      {% include 'component-image' %}
  {% endcase %}
{% endfor %}

{% schema %}
{
  "name": "Sections",
  "settings": [],
  "blocks": [
    {
      "type": "video",
      "name": {
        "en": "Video",
        "fr": "Vidéo"
      },
      "settings": [
        {
          "type": "select",
          "id": "platform_video",
          "label": {
            "en": "Which platform?",
            "fr": "Quelle plateforme ?"
          },
          "default": "youtube",
          "options": [
            {
              "value": "youtube",
              "label": "Youtube"
            },
            {
              "value": "vimeo",
              "label": "Vimeo"
            },
            {
              "value": "dailymotion",
              "label": "Dailymotion"
            }
          ]
        },
        {
          "type": "text",
          "id": "id_video",
          "label": {
            "en": "Video ID",
            "fr": "ID de la vidéo"
          }
        }
      ]
    },
    {
      "type": "image",
      "name": {
        "en": "Image",
        "fr": "Image"
      },
      "settings": [
        {
          "type": "image_picker",
          "id": "id_image",
          "label": {
            "en": "Add image",
            "fr": "Ajouter l’image"
          }
        }
      ]
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
