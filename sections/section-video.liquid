{%- assign video = section.settings.video -%}
{%- assign video_webm = section.settings.video_webm -%}
{%- assign poster = section.settings.video_poster -%}
{%- assign autoplay = section.settings.autoplay -%}
{%- assign controls = section.settings.controls -%}
{%- assign loop = section.settings.loop -%}
{%- assign muted = section.settings.muted -%}
{%- assign preload = section.settings.preload -%}
{%- assign background = section.settings.background -%}
{%- assign container = section.settings.container -%}
{% include 'component-video' %}

{% schema %}
{
  "name": {
    "en": "Video",
    "fr": "Vidéo"
  },
  "tag": "section",
  "class": "section--video",
  "settings": [
    {
      "type": "text",
      "id": "video",
      "label": {
        "en": "Video URL (MP4)",
        "fr": "URL de la vidéo (MP4)"
      }
    },
    {
      "type": "text",
      "id": "video_webm",
      "label": {
        "en": "Video URL (WEBM)",
        "fr": "URL de la vidéo (WEBM)"
      }
    },
    {
      "type": "image_picker",
      "id": "video_poster",
      "label": {
        "en": "Video poster",
        "fr": "Poster de la vidéo"
      }
    },
    {
      "type": "checkbox",
      "id": "controls",
      "default": true,
      "label": {
        "en": "Controls show?",
        "fr": "Afficher les controles ?"
      }
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "default": false,
      "label": {
        "en": "Autoplay?",
        "fr": "Autoplay ?"
      }
    },
    {
      "type": "checkbox",
      "id": "loop",
      "default": false,
      "label": {
        "en": "Loop?",
        "fr": "En boucle ?"
      }
    },
    {
      "type": "checkbox",
      "id": "muted",
      "default": false,
      "label": {
        "en": "Muted?",
        "fr": "Sans son ?"
      }
    },
    {
      "type": "select",
      "id": "preload",
      "default": "auto",
      "options": [
        {
          "value": "auto",
          "label": "auto"
        },
        {
          "value": "metadata",
          "label": "metadata"
        },
        {
          "value": "none",
          "label": "none"
        }
      ],
      "label": {
        "en": "Preload?",
        "fr": "Preload ?"
      }
    },
    {
       "type": "header",
       "content": "Container"
    },
    {
      "type": "select",
      "id": "container",
      "label": {
        "en": "Which container?",
        "fr": "Quel container ?"
      },
      "default": "container",
      "options": [
        {
          "value": "container-fluid p-0",
          "label": {
            "en": "Fluid",
            "fr": "Fluide"
          }
        },
        {
          "value": "container",
          "label": {
            "en": "Limit",
            "fr": "Limité"
          }
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "background",
      "default": false,
      "label": {
        "en": "Grey background?",
        "fr": "Arrière plan gris ?"
      }
    }
  ],
  "presets": [
    {
      "name": {
        "en": "Video",
        "fr": "Vidéo"
      },
      "category": {
        "en": "Media",
        "fr": "Media"
      }
    }
  ]
}
{% endschema %}
